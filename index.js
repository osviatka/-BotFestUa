var TelegramBot = require('node-telegram-bot-api'),
    token = '420737343:AAEFUaIA3R6vnycu7Yd9p76n_qGXOTMKf2g',
    bot = new TelegramBot(token, {
        polling: true
    });

var chatId;
var location;

bot.onText(/\/start/, start());

bot.on('message', function (msg) {
    chatId = msg.from.id;
    //bot.sendMessage(id, msg.text);
    switch (msg.text) {
        case '/start':
            start();
            break;
        case '–ù–∞–∑–∞–¥':
            back();
            break;
        case '–Ü–ù–§–û':
            info();
            break;
        case '–ü—Ä–æ —Ñ–µ—Å—Ç–∏–≤–∞–ª—å':
            aboutFest();
            break;
        case '–ì—Ä—É–ø–∏':
            aboutGroups();
            break;
        case '–õ–æ–∫–∞—Ü—ñ—ó':
            cityLocation();
            break;
        case '–ß–µ—Ä–∫–∞—Å–∏':
            cherkassy();
            break;
        case '–õ—å–≤—ñ–≤':
            lviv();
            break;
        case '–ö–∏—ó–≤':
            kiev();
            break;
        case '–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –±—ñ–ª–µ—Ç':
            reservation();
            break;
        case '1 –¥–µ–Ω—å':
            oneDay();
            break;
        case '2 –¥–Ω—è':
            twoDays();
            break;
        case '3 –¥–Ω—è':
            threeDays();
            break;
        case '–ß–ï–†–ö–ê–°–ò':
            CherkassyTickets();
            break;
    }
});

// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
function start() {
    bot.sendMessage(chatId, '–ü—Ä–∏–≤—ñ—Ç :) –ú–µ–Ω–µ –∑–≤–∞—Ç–∏ BotFestUa. ' +
        '–Ø –¥–æ–ø–æ–º–æ–∂—É —Ç–æ–±—ñ –∑–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –±—ñ–ª–µ—Ç–∏ –Ω–∞ —Ñ–µ—Å—Ç–∏–≤–∞–ª—å, ' +
        '–∞ —Ç–∞–∫–æ–∂ —Ç—Ä–æ—Ö–∏ —Ä–æ–∑–ø–æ–≤—ñ–º –ø—Ä–æ –Ω—å–æ–≥–æ.');
    menu();
}

// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –¥–≤–µ –∫–Ω–æ–ø–∫–∏ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é
// ------------------  MENU   ---------------//
function menu() {
    bot.sendMessage(chatId, 'P.S. –Ø–∫—â–æ —Ö–æ—á–µ—à, —â–æ–± —É –Ω–∞—Å –∑ —Ç–æ–±–æ—é –≤—Å–µ –∫–ª–∞—Å–Ω–æ —Å–∫–ª–∞–ª–æ—Å—è, ' +
        '–±—É–¥—å –ª–∞—Å–∫–∞, —Å–∫–æ—Ä–∏—Å—Ç—É–π—Å—è –ø—É–Ω–∫—Ç–∞–º–∏ –º–µ–Ω—é ;)', {
        reply_markup: JSON.stringify({
            keyboard: [
                ['–Ü–ù–§–û'],
                ['–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –±—ñ–ª–µ—Ç']
            ]
        })
    });
    location = 'menu';
}
// ------------------ / MENU /  ---------------//

// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ–Ω—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–æ —Ñ–µ—Å—Ç
// ------------------ INFO  ---------------//
function info() {
    bot.sendMessage(chatId, '–î—Ä—É–∂–µ, –≤–∏–±–µ—Ä–∏, –±—É–¥—å –ª–∞—Å–∫–∞, —â–æ —Å–∞–º–µ —Ç–µ–±–µ —Ü—ñ–∫–∞–≤–∏—Ç—å)', {
        reply_markup: JSON.stringify({
            keyboard: [
                ['–ü—Ä–æ —Ñ–µ—Å—Ç–∏–≤–∞–ª—å'],
                ['–ì—Ä—É–ø–∏'],
                ['–õ–æ–∫–∞—Ü—ñ—ó'],
                ['–§–æ—Ç–æ'],
                ['–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –±—ñ–ª–µ—Ç'],
                ['–ù–∞–∑–∞–¥']
            ]
        })
    });
    location = 'info';
}
// ------------------ / INFO / ---------------//

// ------------------ AboutFest ---------------//
function aboutFest() {
    bot.sendMessage(chatId, '–§–µ—Å—Ç–∏–≤–∞–ª—å ‚Ä¶.Fest —Ç—Ä–∞–¥–∏—Ü—ñ–π–Ω–æ –ø—Ä–æ–π–¥–µ –≤ —Ç—Ä—å–æ—Ö –º—ñ—Å—Ç–∞—Ö –£–∫—Ä–∞—ó–Ω–∏( –ß–µ—Ä–∫–∞—Å–∏ -25-27 —Å–µ—Ä–ø–Ω—è, ' +
        '–õ—å–≤—ñ–≤ - 29-31 —Å–µ—Ä–ø–Ω—è, –ö–∏—ó–≤ 3-5 –≤–µ—Ä–µ—Å–Ω—è)  –ø—ñ–¥ –ª–æ–∑—É–Ω–≥–æ–º ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶.., ' +
        '–¢—É—Ç –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤—Å–µ –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–≥–æ —Ç–∞ —è–∫—ñ—Å–Ω–æ–≥–æ –≤—ñ–¥–ø–æ—á–∏–Ω–∫—É, ' +
        '—â–æ —Ä–æ–±–∏—Ç—å —Ñ–µ—Å—Ç–∏–≤–∞–ª—å —Å–∞–º–æ–±—É—Ç–Ω—å–æ—é —ñ —Å–∞–º–æ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ—é –ø–æ–¥—ñ—î—é, ' +
        '—è–∫—É –Ω–∞—à—ñ –≤—ñ–¥–≤—ñ–¥—É–≤–∞—á—ñ –∑ –Ω–µ—Ç–µ—Ä–ø—ñ–Ω–Ω—è–º —á–µ–∫–∞—é—Ç—å —Ü—ñ–ª–∏–π —Ä—ñ–∫.' +
        '–î–ª—è –¥–µ—Ç–∞–ª—å–Ω—ñ—à–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ –Ω–∞—à —Å–∞–π—Ç http://fainemisto.com.ua/', {
        reply_markup: JSON.stringify({
            keyboard: [
                ['–ù–∞–∑–∞–¥'],
                ['–ú–µ–Ω—é'],
                ['–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –±—ñ–ª–µ—Ç']
            ]
        })
    });
    location = 'info fest';
}
// ------------------ / AboutFest/ ---------------//

// ------------------ Group ---------------//
function aboutGroups() {
    bot.sendMessage(chatId, '–ù–∞ –§–∞–π–Ω–∞–§–µ—Å—Ç—ñ –±—Ä–∞—Ç–∏–º—É—Ç—å —É—á–∞—Å—Ç—å —Ç–∞–∫—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –≥—É—Ä—Ç–∏:\n' +
        '–û–∫–µ–∞–Ω –ï–ª—å–∑–∏\n' +
        '–î—Ä—É–≥–∞ —Ä—ñ–∫–∞\n' +
        '–ê–Ω—Ç–∏—Ç—ñ–ª–∞\n' +
        '–¢–ù–ú–ö\n' +
        '–¢–∞—Ä—Ç–∞–∫\n' +
        '–û–¥–∏–Ω –≤ –∫–∞–Ω–æ—î\n' +
        '–§—ñ–æ–ª–µ—Ç\n' +
        '–°–∫—Ä—è–±—ñ–Ω —Ç–∞ —ñ–Ω.',
        {
            reply_markup: JSON.stringify({
                keyboard: [
                    ['–ù–∞–∑–∞–¥'],
                    ['–ú–µ–Ω—é'],
                    ['–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –±—ñ–ª–µ—Ç']
                ]
            })
        });
    location = 'info group';
}
// ------------------ / Group / ---------------//

// ------------------ –õ–æ–∫–∞—Ü–∏–∏ ---------------//
function cityLocation() {
    bot.sendMessage(chatId, '–û—Å–Ω–æ–≤–Ω—ñ –ª–æ–∫–∞—Ü—ñ—ó –Ω–∞—à–æ–≥–æ –§–µ—Å—Ç—É —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ ' +
        '–≤ –ß–µ—Ä–∫–∞—Å–∞—Ö, –õ—å–≤–æ–≤—ñ —Ç–∞ –ö–∏—î–≤—ñ. –©–æ–± –¥—ñ–∑–Ω–∞—Ç–∏—Å—è –∞–¥—Ä–µ—Å—É, ' +
        '–±—É–¥—å –ª–∞—Å–∫–∞, –æ–±–µ—Ä–∏ –º—ñ—Å—Ç–æ, —â–æ —Ç–µ–±–µ —Ü—ñ–∫–∞–≤–∏—Ç—å.',
        {
            reply_markup: JSON.stringify({
                keyboard: [
                    ['–ß–µ—Ä–∫–∞—Å–∏'],
                    ['–õ—å–≤—ñ–≤'],
                    ['–ö–∏—ó–≤'],
                    ['–ù–∞–∑–∞–¥'],
                    ['–ú–µ–Ω—é'],
                    ['–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –±—ñ–ª–µ—Ç']
                ]
            })
        });
    location = 'info location';
}

function cherkassy() {
    bot.sendMessage(chatId, '‚Ä¶Fest –≤ –º. –ß–µ—Ä–∫–∞—Å–∏ –±—É–¥–µ —Ç—Ä–∏–≤–∞—Ç–∏ 3 –¥–Ω—ñ (25 ‚Äì 27 —Å–µ—Ä–ø–Ω—è) ' +
        '–∑–∞ –∞–¥—Ä–µ—Å–æ—é –º.–ß–µ—Ä–∫–∞—Å–∏, –ø–∞—Ä–∫ –î–æ–ª–∏–Ω–∞ –¢—Ä–æ—è–Ω–¥ (–≤—É–ª–∏—Ü—è –ì–∞–≥–∞—Ä—ñ–Ω–∞, ' +
        '–±–µ—Ä–µ–≥ –î–Ω—ñ–ø—Ä–∞ (–ó–∞–º–∫–æ–≤–∏–π —É–∑–≤—ñ–∑).', {
        reply_markup: JSON.stringify({
            keyboard: [
                ['–ù–∞–∑–∞–¥'],
                ['–ú–µ–Ω—é'],
                ['–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –±—ñ–ª–µ—Ç']
            ]
        })
    });
    location = 'location cherkassy';
}
function lviv() {
    bot.sendMessage(chatId, 'Fest –≤ –º. –õ—å–≤—ñ–≤ –±—É–¥–µ —Ç—Ä–∏–≤–∞—Ç–∏ 3 –¥–Ω—ñ (29 ‚Äì 31 —Å–µ—Ä–ø–Ω—è) ' +
        '–∑–∞ –∞–¥—Ä–µ—Å–æ—é  —Å. –†–æ–¥–∞—Ç–∏—á—ñ –Ω–µ–¥–∞–ª–µ–∫–æ –≤—ñ–¥ –õ—å–≤–æ–≤–∞, ' +
        '–≥–æ—Ç–µ–ª—å–Ω–æ-–≤—ñ–¥–ø–æ—á–∏–Ω–∫–æ–≤–∏–π –∫–æ–º–ø–ª–µ–∫—Å ¬´–ß–∞—Ä—ñ–≤–Ω–∞ –¥–æ–ª–∏–Ω–∞¬ª.', {
        reply_markup: JSON.stringify({
            keyboard: [
                ['–ù–∞–∑–∞–¥'],
                ['–ú–µ–Ω—é'],
                ['–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –±—ñ–ª–µ—Ç']
            ]
        })
    });
    location = 'location lviv';
}

function kiev() {
    bot.sendMessage(chatId, 'Fest –≤ –º. –ö–∏—ó–≤ –±—É–¥–µ —Ç—Ä–∏–≤–∞—Ç–∏ 3 –¥–Ω—ñ (3 ‚Äì 5 –≤–µ—Ä–µ—Å–Ω—è)' +
        '–∑–∞ –∞–¥—Ä–µ—Å–æ—é  –ï–∫—Å–ø–æ—Ü–µ–Ω—Ç—Ä –£–∫—Ä–∞—ó–Ω–∏ (–ø—Ä–æ—Å–ø. –ê–∫–∞–¥–µ–º—ñ–∫–∞ –ì–ª—É—à–∫–æ–≤–∞, 1)',
        {
            reply_markup: JSON.stringify({
                keyboard: [
                    ['–ù–∞–∑–∞–¥'],
                    ['–ú–µ–Ω—é'],
                    ['–ó–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –±—ñ–ª–µ—Ç']
                ]
            })
        });
    location = 'location kiev';
}
// ------------------ / –õ–æ–∫–∞—Ü–∏–∏ / ---------------//

// –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ù–ê–ó–ê–î
// ------------------ BACK ---------------//
function back() {
    switch (location) {
        case 'info':
            start();
            break;
        case 'info fest':
            info();
            break;
        case 'info group':
            info();
            break;
        case 'info location':
            info();
            break;
        case 'location cherkassy':
            cityLocation();
            break;
        case 'location lviv':
            cityLocation();
            break;
        case 'location kiev':
            cityLocation();
            break;
        case 'reservation':
            start();
            break;
        case 'reservation oneDay':
            reservation();
            break;
        case 'reservation twoDays':
            reservation();
            break;
        case 'reservation threeDays':
            reservation();
            break;

    }
}
// ------------------ / BACK / ---------------//


//---------------–ó–ê–ë–†–û–ù–Æ–í–ê–¢–ò –ë–Ü–õ–ï–¢-------------//

function reservation() {
    bot.sendMessage(chatId, '–î—Ä—É–∂–µ, —Ç–∏  –Ω–∞ –≤—ñ—Ä–Ω–æ–º—É —à–ª—è—Ö—É! ' +
        ' –í–∞—Ä—Ç—ñ—Å—Ç—å –±—ñ–ª–µ—Ç—É –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –º–µ–∂–∞—Ö 350 - 600 –≥—Ä–Ω, –≤ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –¥–Ω—ñ–≤:\n\n' +
        '1 –¥–µ–Ω—å = 350 –≥—Ä–Ω.\n' +
        '2 –¥–Ω—è = 500 –≥—Ä–Ω.\n' +
        '3 –¥–Ω—è = 600 –≥—Ä–Ω.\n\n' +
        '–ù–∞—Å—Ç—É–ø–Ω–∏–º –∫—Ä–æ–∫–æ–º –≤–∏–±–µ—Ä–∏ –ø–æ—Ç—Ä—ñ–±–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–Ω—ñ–≤ :)', {
        reply_markup: JSON.stringify({
            keyboard: [
                ['1 –¥–µ–Ω—å'],
                ['2 –¥–Ω—è'],
                ['3 –¥–Ω—è'],
                ['–ù–∞–∑–∞–¥']

            ]
        })
    });
    location = 'reservation';
}

//----------------–±—Ä–æ–Ω—å –∑–∞ –¥–Ω—è–º–∏-------------//

//--- –±—Ä–æ–Ω—å –Ω–∞ 1 –¥–µ–Ω—å

function oneDay() {
    bot.sendMessage(chatId, '–ß—É–¥–æ–≤–æ!  –¢–µ–ø–µ—Ä –≤–∫–∞–∂–∏ –ø–æ—Ç—Ä—ñ–±–Ω–µ —Ç–æ–±—ñ –º—ñ—Å—Ç–æ üòä', {
        reply_markup: JSON.stringify({
            keyboard: [
                ['–ß–ï–†–ö–ê–°–ò'],
                ['–õ–¨–í–Ü–í'],
                ['–ö–ò–á–í'],
                ['–ù–∞–∑–∞–¥']
            ]
        })
    });
    location = 'reservation oneDay';
}

// ---- –±—Ä–æ–Ω—å –Ω–∞ 2 –¥–Ω—ñ

function  twoDays() {
    bot.sendMessage(chatId, '–ß—É–¥–æ–≤–æ!  –¢–µ–ø–µ—Ä –≤–∫–∞–∂–∏ –ø–æ—Ç—Ä—ñ–±–Ω–µ —Ç–æ–±—ñ –º—ñ—Å—Ç–æ üòä', {
        reply_markup: JSON.stringify({
            keyboard: [
                ['–ß–ï–†–ö–ê–°–ò'],
                ['–õ–¨–í–Ü–í'],
                ['–ö–ò–á–í'],
                ['–ù–∞–∑–∞–¥']
            ]
        })
    });
    location = 'reservation twoDays';
}
//---–±—Ä–æ–Ω—å –Ω–∞ 3 –¥–Ω—ñ
function threeDays() {
    bot.sendMessage(chatId, '–ß—É–¥–æ–≤–æ!  –¢–µ–ø–µ—Ä –≤–∫–∞–∂–∏ –ø–æ—Ç—Ä—ñ–±–Ω–µ —Ç–æ–±—ñ –º—ñ—Å—Ç–æ üòä', {
        reply_markup: JSON.stringify({
            keyboard: [
                ['–ß–ï–†–ö–ê–°–ò'],
                ['–õ–¨–í–Ü–í'],
                ['–ö–ò–á–í'],
                ['–ù–∞–∑–∞–¥']
            ]
        })
    });
    location = 'reservation threeDays';
}

// ----------–±—Ä–æ–Ω—å –∑–∞ –¥–Ω—è–º–∏--------//

//---------–±—Ä–æ–Ω—å –∑–∞ –º—ñ—Å—Ç–∞–º–∏----------//

function CherkassyTickets() {
    bot.sendMessage(chatId, '–î–æ–±—Ä–µ!  –¢–µ–ø–µ—Ä –≤–≤–µ–¥–∏ –±—É–¥—å –ª–∞—Å–∫–∞ —Å–≤–æ—î –ø–æ–≤–Ω–µ —ñ–º‚Äô—è,' +
        '–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –ü–µ—Ç—Ä–µ–Ω–∫–æ –ü–µ—Ç—Ä–æ –ü–µ—Ç—Ä–æ–≤–∏—á üòä', {
        reply_markup: JSON.stringify({
            keyboard: [
                ['–ù–∞–∑–∞–¥'],
                ['–°–∫–∏–Ω—É—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è']
            ]
        })
    });
    location = 'reservation Cherkassy';
}

//---------–±—Ä–æ–Ω—å –∑–∞ –º—ñ—Å—Ç–∞–º–∏----------//


//---------–ó–ê–ë–†–û–ù–Æ–í–ê–¢–ò –ë–Ü–õ–ï–¢---------//